
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.34">
    
    
      
        <title>Basics of Symfony - Leo's Cheatsheets</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+markdown_extensions:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto markdown_extensions"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#basics-of-symfony" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Leo&#39;s Cheatsheets" class="md-header__button md-logo" aria-label="Leo's Cheatsheets" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Leo's Cheatsheets
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Basics of Symfony
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="purple" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="purple" data-md-color-accent="purple"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Leo&#39;s Cheatsheets" class="md-nav__button md-logo" aria-label="Leo's Cheatsheets" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Leo's Cheatsheets
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Frameworks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Frameworks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vue & Nuxt
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Vue & Nuxt
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/vue-nuxt/basics-of-vue/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics of Vue
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../frameworks/vue-nuxt/basics-of-nuxt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics of Nuxt
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Dangerous & Outdated
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Dangerous & Outdated
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../symfony/basics-of-symfony.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basics of Symfony
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../django-deployment-on-render/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Django Deployment on Render
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#pre-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Requirements:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" class="md-nav__link">
    <span class="md-ellipsis">
      Installation
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Project Structure
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#controller" class="md-nav__link">
    <span class="md-ellipsis">
      Controller
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#templates" class="md-nav__link">
    <span class="md-ellipsis">
      Templates
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installing-tailwind" class="md-nav__link">
    <span class="md-ellipsis">
      Installing Tailwind
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#csrf" class="md-nav__link">
    <span class="md-ellipsis">
      CSRF
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CSRF">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#csrf-in-forms" class="md-nav__link">
    <span class="md-ellipsis">
      CSRF in Forms
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#forms" class="md-nav__link">
    <span class="md-ellipsis">
      Forms
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#entities-databases" class="md-nav__link">
    <span class="md-ellipsis">
      Entities &amp; Databases
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Repositories
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#services" class="md-nav__link">
    <span class="md-ellipsis">
      Services
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flash-messages" class="md-nav__link">
    <span class="md-ellipsis">
      Flash Messages
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="basics-of-symfony">Basics of Symfony<a class="headerlink" href="#basics-of-symfony" title="Permanent link">&para;</a></h1>
<p><img src="https://www.svgrepo.com/show/342277/symfony.svg" width="150px" height="auto"></p>
<h2 id="pre-requirements">Pre-Requirements:<a class="headerlink" href="#pre-requirements" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>PHP</strong>: <a href="https://www.geeksforgeeks.org/how-to-install-php-on-ubuntu/">Install</a></li>
<li><strong>Docker</strong>: <a href="https://docs.docker.com/engine/install/ubuntu/">Install</a></li>
<li><strong>DDEV</strong>: <a href="https://ddev.readthedocs.io/en/stable/users/install/ddev-installation/">Install</a></li>
</ul>
<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">&para;</a></h2>
<p><strong>1. Step</strong>: Create the project directory and switch into this directory:</p>
<div class="codehilite"><pre><span></span><code>mkdir &lt;project&gt;
</code></pre></div>

<div class="codehilite"><pre><span></span><code>cd &lt;project&gt;
</code></pre></div>

<p><strong>2. Step</strong>: Initialize the DDEV project (select <code>public</code> for docroot location):</p>
<div class="codehilite"><pre><span></span><code>mkdir &lt;project&gt;
</code></pre></div>

<p><strong>3. Step</strong>: Change the DDEV PHP version to the <a href="">newest stable PHP build</a>:</p>
<div class="codehilite"><pre><span></span><code>nano .ddev/config.yaml
</code></pre></div>

<p><strong>4. Step</strong>: Cleaning up:</p>
<div class="codehilite"><pre><span></span><code>ddev config global --required-docker-compose-version=&quot;&quot; --use-docker-compose-from-path=false
</code></pre></div>

<div class="codehilite"><pre><span></span><code>sudo docker system prune --all --force
</code></pre></div>

<div class="codehilite"><pre><span></span><code>sudo docker volume prune --force
</code></pre></div>

<p><strong>5. Step</strong>: Starting DDEV:</p>
<div class="codehilite"><pre><span></span><code>ddev start
</code></pre></div>

<p><strong>6. Step</strong>: Installing Symfony:</p>
<div class="codehilite"><pre><span></span><code>ddev composer create symfony/skeleton
</code></pre></div>

<h2 id="project-structure">Project Structure<a class="headerlink" href="#project-structure" title="Permanent link">&para;</a></h2>
<p>In a Symfony project, there are several standard folders, each serving specific purposes:</p>
<ul>
<li>
<p><strong><code>bin/</code></strong>: Contains executable files, such as the Symfony console application (<code>bin/console</code>).</p>
</li>
<li>
<p><strong><code>config/</code></strong>: Houses the configuration files for the application, where various settings are defined.</p>
</li>
<li>
<p><strong><code>src/</code></strong>: This is where the PHP code of the project resides, including controllers, services, and other application logic.</p>
</li>
<li>
<p><strong><code>public/</code></strong>: The web root directory, containing publicly accessible files like images, stylesheets, and JavaScript. It also includes the <code>index.php</code>, which acts as the front controller.</p>
</li>
<li>
<p><strong><code>var/</code></strong>: Used for generated files such as cache and logs.</p>
</li>
<li>
<p><strong><code>vendor/</code></strong>: Contains third-party dependencies managed by Composer. This folder should not be manually modified.</p>
</li>
<li>
<p><strong><code>tests/</code></strong>: Holds automated tests for the application, including unit tests.</p>
</li>
</ul>
<p>This structure helps keep the code organized and improves the maintainability of the application.</p>
<h2 id="controller">Controller<a class="headerlink" href="#controller" title="Permanent link">&para;</a></h2>
<p>A controller in Symfony is a PHP class responsible for handling HTTP requests and returning HTTP responses based on the application's logic.</p>
<div class="codehilite"><pre><span></span><code><span class="x">// Define the IndexController class.</span>
<span class="x">// This is a controller that will handle certain HTTP requests.</span>
<span class="x">class IndexController {</span>

<span class="x">    // Use the Route annotation to map the root URL (/) to this method.</span>
<span class="x">    // The &#39;name&#39; attribute gives this route a name, &#39;index&#39;, which can be used in the application.</span>
<span class="x">    #[Route(path: &#39;/&#39;, name: &#39;index&#39;)]</span>
<span class="x">    public function indexAction(): Response {</span>

<span class="x">        // Return a new Response object with the text &quot;Hallo Welt!&quot;.</span>
<span class="x">        // This text will be sent back to the user&#39;s browser when they visit the root URL.</span>
<span class="x">        return new Response(&quot;Hallo Welt!&quot;);</span>
<span class="x">    }</span>
<span class="x">}</span>

<span class="x">?&gt;</span>
</code></pre></div>

<h2 id="templates">Templates<a class="headerlink" href="#templates" title="Permanent link">&para;</a></h2>
<p>Before we can use templates, we have to install <code>Twig</code> first:</p>
<div class="codehilite"><pre><span></span><code>ddev composer require twig
</code></pre></div>

<p>After the execution of this command a new folder named <code>templates/</code> will be created.
<br>
To render a template, <a href="#controller">our controller</a> must inherit from <code>AbstractController</code>. An <code>AbstractController</code> can use the <code>render</code> method:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Annotation\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>


<span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">AbstractController</span> <span class="p">{</span>

    <span class="p">#[</span><span class="nd">Route</span><span class="p">(</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;index&#39;</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">()</span><span class="o">:</span> <span class="nx">Response</span> <span class="p">{</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;index.html.twig&#39;</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre></div>

<h2 id="installing-tailwind">Installing Tailwind<a class="headerlink" href="#installing-tailwind" title="Permanent link">&para;</a></h2>
<p><strong>1. Step</strong>: Install the Tailwind Bundle:</p>
<div class="codehilite"><pre><span></span><code>composer require symfonycasts/tailwind-bundle
</code></pre></div>

<p><strong>2. Step</strong>: Initialize Tailwind:</p>
<div class="codehilite"><pre><span></span><code>php bin/console tailwind:init
</code></pre></div>

<p><strong>3. Step</strong>: Build and Watch for Changes (must be executed on every DDEV startup):</p>
<div class="codehilite"><pre><span></span><code>php bin/console tailwind:build --watch
</code></pre></div>

<h2 id="csrf">CSRF<a class="headerlink" href="#csrf" title="Permanent link">&para;</a></h2>
<p>Before we can use forms, we have to install <code>Security-CSRF</code> first:</p>
<div class="codehilite"><pre><span></span><code>ddev composer require symfony/security-csrf
</code></pre></div>

<h3 id="csrf-in-forms">CSRF in Forms<a class="headerlink" href="#csrf-in-forms" title="Permanent link">&para;</a></h3>
<h2 id="forms">Forms<a class="headerlink" href="#forms" title="Permanent link">&para;</a></h2>
<p>Symfony Forms provide a robust framework for building, processing, and validating forms in PHP applications, streamlining user input handling.<br>
Before we can use forms, we have to install <code>Forms</code> first:</p>
<div class="codehilite"><pre><span></span><code>ddev composer require symfony/form
</code></pre></div>

<p>By convention, forms are created in <code>src/Form/Type</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Form\Type</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Component\Form\AbstractType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\EmailType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\SubmitType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\Extension\Core\Type\TextType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Form\FormBuilderInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\OptionsResolver\OptionsResolver</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Entity\GuestBookEntity</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">GuestBookType</span> <span class="k">extends</span> <span class="nx">AbstractType</span>
<span class="p">{</span>
    <span class="c1">// This method is where you define the fields that will appear in your form</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">buildForm</span><span class="p">(</span><span class="nx">FormBuilderInterface</span> <span class="nv">$builder</span><span class="p">,</span> <span class="k">array</span> <span class="nv">$options</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;empty_data&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">]);</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="nx">EmailType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;required&#39;</span> <span class="o">=&gt;</span> <span class="k">false</span><span class="p">]);</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;subtitle&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;empty_data&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">]);</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">,</span> <span class="nx">TextType</span><span class="o">::</span><span class="na">class</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;empty_data&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;&#39;</span><span class="p">]);</span>
        <span class="nv">$builder</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="s1">&#39;submit&#39;</span><span class="p">,</span> <span class="nx">SubmitType</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="c1">// This method is where you define options for the form, such as the data class (database model) it maps to</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">configureOptions</span><span class="p">(</span><span class="nx">OptionsResolver</span> <span class="nv">$resolver</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$resolver</span><span class="o">-&gt;</span><span class="na">setDefaults</span><span class="p">([</span>
            <span class="s1">&#39;data_class&#39;</span> <span class="o">=&gt;</span> <span class="nx">GuestBookEntity</span><span class="o">::</span><span class="na">class</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><br>
To render a form, you have to submit the form in the context while loading the template:</p>
<div class="codehilite"><pre><span></span><code><span class="x">$form = $this-&gt;createForm(GuestBookType::class);</span>

<span class="x">return $this-&gt;render(&#39;index.html.twig&#39;, [</span>
<span class="x">    &#39;form&#39; =&gt; $form</span>
<span class="x">]);</span>
</code></pre></div>

<p>It is integrated into the template with the <code>{{ form(form) }}</code> template snippet.</p>
<p><br></p>
<p>You can add HTML attributes to the form elements by adding them in <code>$options</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="x">$builder-&gt;add(&#39;username&#39;, TextType::class, [&#39;empty_data&#39; =&gt; &#39;&#39;, &#39;attr&#39; =&gt; [&#39;class&#39; =&gt; &#39;block&#39;]]);</span>
</code></pre></div>

<p><br></p>
<p>You can use predefined stylings by adding them into <code>config/packages/twig.yaml</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">twig</span><span class="o">:</span>
<span class="w">  </span><span class="n">file_name_pattern</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;*.twig&quot;</span>
<span class="w">  </span><span class="n">form_themes</span><span class="o">:</span><span class="w"> </span><span class="o">[</span><span class="s2">&quot;tailwind_2_layout.html.twig&quot;</span><span class="o">]</span>
</code></pre></div>

<p><br></p>
<p>The data transmitted by the form is obtained by handling the controller's request in the form. You can then call the getData method on the form.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Form\Type\GuestBookType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Annotation\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Request</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">AbstractController</span>
<span class="p">{</span>

    <span class="p">#[</span><span class="nd">Route</span><span class="p">(</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;index&#39;</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span><span class="o">:</span> <span class="nx">Response</span>
    <span class="p">{</span>

        <span class="nv">$form</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createForm</span><span class="p">(</span><span class="nx">GuestBookType</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
        <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">handleRequest</span><span class="p">(</span><span class="nv">$request</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">isSubmitted</span><span class="p">())</span> <span class="p">{</span>
            <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">();</span>
            <span class="nx">dd</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;index.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="nv">$form</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="entities-databases">Entities &amp; Databases<a class="headerlink" href="#entities-databases" title="Permanent link">&para;</a></h2>
<p>Entities are PHP classes that typically correspond to tables in a database. Each property of the class maps to a column in the table. Doctrine handles the persistence of these objects, meaning it automatically handles saving and retrieving data from the database.
<br>
By convention, entities are created in <code>src/Entity</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Entity</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">DateTimeImmutable</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">GuestBookEntity</span>
<span class="p">{</span>
    <span class="k">private</span> <span class="o">?</span><span class="nx">int</span> <span class="nv">$id</span><span class="p">;</span>                  <span class="c1">// Unique identifier (primary key)</span>
    <span class="k">private</span> <span class="nx">DateTimeImmutable</span> <span class="nv">$createdAt</span><span class="p">;</span> <span class="c1">// Timestamp for when the entry was created</span>
    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$username</span><span class="p">;</span>          <span class="c1">// Name of the user making the entry</span>
    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$subtitle</span><span class="p">;</span>          <span class="c1">// Subtitle or title of the entry</span>
    <span class="k">private</span> <span class="nx">string</span> <span class="nv">$body</span><span class="p">;</span>              <span class="c1">// Main content of the entry</span>
    <span class="k">private</span> <span class="o">?</span><span class="nx">string</span> <span class="nv">$email</span><span class="p">;</span>            <span class="c1">// Optional email address of the user</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createdAt</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">DateTimeImmutable</span><span class="p">();</span> <span class="c1">// Set creation time</span>
    <span class="p">}</span>

    <span class="c1">// Getters and setters for each property...</span>
<span class="p">}</span>
</code></pre></div>

<p><br></p>
<p>Forms can be validated using entities. For this you need the <code>Validator</code> package:</p>
<div class="codehilite"><pre><span></span><code>ddev composer require symfony/validator
</code></pre></div>

<p>This is done via constraints and asserts.</p>
<div class="codehilite"><pre><span></span><code><span class="x">use Symfony\Component\Validator\Constraints as Assert;</span>

<span class="x">class GuestBookEntity</span>
<span class="x">{</span>
<span class="x">    private ?int $id;</span>
<span class="x">    private \DateTimeImmutable $createdAt;</span>

<span class="x">    #[Assert\NotBlank]</span>
<span class="x">    #[Assert\Length(max: 255)]</span>
<span class="x">    private string $username;</span>
<span class="x">}</span>
</code></pre></div>

<p><br></p>
<p>Before we can use databases, we have to install the <code>ORM-Pack</code> (<code>Doctrine</code>) and the <code>Maker-Bundle</code> (optional, just for development):</p>
<div class="codehilite"><pre><span></span><code>ddev composer require symfony/orm-pack
</code></pre></div>

<div class="codehilite"><pre><span></span><code>ddev composer require --dev symfony/maker-bundle
</code></pre></div>

<p>Im Anschluss muss man innerhalb der Entity die verschiedenen Columns annotieren sowie die Entity als Modell annotieren:</p>
<div class="codehilite"><pre><span></span><code><span class="x">use Doctrine\ORM\Mapping as ORM;</span>

<span class="x">#[ORM\Entity]</span>
<span class="x">class GuestBookEntity</span>
<span class="x">{</span>
<span class="x">    #[ORM\Id]</span>
<span class="x">    #[ORM\GeneratedValue]</span>
<span class="x">    #[ORM\Column(type: &#39;integer&#39;)]</span>
<span class="x">    private ?int $id;</span>

<span class="x">    #[ORM\Column(type: &#39;datetime_immutable&#39;, options: [&#39;default&#39; =&gt; &#39;CURRENT_TIMESTAMP&#39;])]</span>
<span class="x">    private \DateTimeImmutable $createdAt;</span>

<span class="x">    #[Assert\NotBlank]</span>
<span class="x">    #[Assert\Length(max: 255)]</span>
<span class="x">    #[ORM\Column(type: &#39;string&#39;)]</span>
<span class="x">    private string $username;</span>

<span class="x">    #[Assert\NotBlank]</span>
<span class="x">    #[Assert\Length(max: 255)]</span>
<span class="x">    #[ORM\Column(type: &#39;string&#39;)]</span>
<span class="x">    private string $subtitle;</span>

<span class="x">    #[Assert\NotBlank]</span>
<span class="x">    #[ORM\Column(type: &#39;text&#39;)]</span>
<span class="x">    private string $body;</span>

<span class="x">    #[Assert\Email]</span>
<span class="x">    #[ORM\Column(type: &#39;string&#39;, nullable: true)]</span>
<span class="x">    private ?string $email;</span>
<span class="x">}</span>
</code></pre></div>

<p>To create the migration we have to execute:</p>
<div class="codehilite"><pre><span></span><code><span class="nv">ddev</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="nv">bin</span><span class="o">/</span><span class="nv">console</span><span class="w"> </span><span class="nv">make</span>:<span class="nv">migration</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="nv">ddev</span><span class="w"> </span><span class="k">exec</span><span class="w"> </span><span class="nv">bin</span><span class="o">/</span><span class="nv">console</span><span class="w"> </span><span class="nv">doctrine</span>:<span class="nv">migrations</span>:<span class="nv">migrate</span>
</code></pre></div>

<p>To save the form we need to hand over a readonly <code>EntityManagerInterface</code> to the constructor:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Form\Type\GuestBookType</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Doctrine\ORM\EntityManagerInterface</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Annotation\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\AbstractController</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Request</span><span class="p">;</span>
<span class="k">class</span> <span class="nc">IndexController</span> <span class="k">extends</span> <span class="nx">AbstractController</span>
<span class="p">{</span>

    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="k">private</span> <span class="nx">readonly</span> <span class="nx">EntityManagerInterface</span> <span class="nv">$em</span><span class="p">)</span>
    <span class="p">{</span>

    <span class="p">}</span>

    <span class="p">#[</span><span class="nd">Route</span><span class="p">(</span><span class="nx">path</span><span class="o">:</span> <span class="s1">&#39;/&#39;</span><span class="p">,</span> <span class="nx">name</span><span class="o">:</span> <span class="s1">&#39;index&#39;</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span class="p">(</span><span class="nx">Request</span> <span class="nv">$request</span><span class="p">)</span><span class="o">:</span> <span class="nx">Response</span>
    <span class="p">{</span>

        <span class="nv">$form</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">createForm</span><span class="p">(</span><span class="nx">GuestBookType</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
        <span class="c1"># TODO: Request wird gehandled</span>
        <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">handleRequest</span><span class="p">(</span><span class="nv">$request</span><span class="p">);</span>

        <span class="c1"># TODO: Form-Daten erhalten</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$form</span><span class="o">-&gt;</span><span class="na">isSubmitted</span><span class="p">())</span> <span class="p">{</span>
            <span class="nv">$data</span> <span class="o">=</span> <span class="nv">$form</span><span class="o">-&gt;</span><span class="na">getData</span><span class="p">();</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">em</span><span class="o">-&gt;</span><span class="na">persist</span><span class="p">(</span><span class="nv">$data</span><span class="p">);</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">em</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>
            <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">redirectToRoute</span><span class="p">(</span><span class="s1">&#39;index&#39;</span><span class="p">);</span>
        <span class="p">}</span>



        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span class="s1">&#39;index.html.twig&#39;</span><span class="p">,</span> <span class="p">[</span>
            <span class="s1">&#39;form&#39;</span> <span class="o">=&gt;</span> <span class="nv">$form</span>
        <span class="p">]);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p>By using the <code>EntityManagerServer</code> we can obtain all entries in the table.</p>
<div class="codehilite"><pre><span></span><code><span class="x">$repository = $this-&gt;em-&gt;getRepository(GuestBookEntity::class);</span>
<span class="x">$entries = $repository-&gt;findBy([], [&#39;createdAt&#39; =&gt; &#39;DESC&#39;]);</span>
</code></pre></div>

<h2 id="repositories">Repositories<a class="headerlink" href="#repositories" title="Permanent link">&para;</a></h2>
<p>In Symfony, a repository is a design pattern used in conjunction with the Doctrine ORM to manage database interactions for a specific entity. Each entity typically has its own repository, which acts as an interface for accessing and manipulating data related to that entity.
<br>
An example for a repository looks like this:</p>
<div class="codehilite"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="k">namespace</span> <span class="nx">App\Repository</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">App\Entity\GuestBookEntity</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Doctrine\Bundle\DoctrineBundle\Repository\ServiceEntityRepository</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Doctrine\Persistence\ManagerRegistry</span><span class="p">;</span>

<span class="k">class</span> <span class="nc">GuestBookRepository</span> <span class="k">extends</span> <span class="nx">ServiceEntityRepository</span> <span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="fm">__construct</span><span class="p">(</span><span class="k">private</span> <span class="nx">readonly</span> <span class="nx">ManagerRegistry</span> <span class="nv">$registry</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">parent</span><span class="o">::</span><span class="na">__construct</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">registry</span><span class="p">,</span> <span class="nx">GuestBookEntity</span><span class="o">::</span><span class="na">class</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">(</span><span class="nx">GuestBookEntity</span> <span class="nv">$guestBookEntity</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$manager</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEntityManager</span><span class="p">();</span>
        <span class="nv">$manager</span><span class="o">-&gt;</span><span class="na">persist</span><span class="p">(</span><span class="nv">$guestBookEntity</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">flush</span><span class="p">()</span> <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getEntityManager</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">flush</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="cp">?&gt;</span>
</code></pre></div>

<p>And can be used like this:</p>
<div class="codehilite"><pre><span></span><code><span class="x">class IndexController extends AbstractController</span>
<span class="x">{</span>

<span class="x">    public function __construct(private readonly GuestBookRepository $repository)</span>
<span class="x">    {</span>

<span class="x">    }</span>

<span class="x">    #[Route(path: &#39;/&#39;, name: &#39;index&#39;)]</span>
<span class="x">    public function indexAction(Request $request): Response</span>
<span class="x">    {</span>

<span class="x">        $form = $this-&gt;createForm(GuestBookType::class);</span>
<span class="x">        $form-&gt;handleRequest($request);</span>

<span class="x">        if ($form-&gt;isSubmitted()) {</span>
<span class="x">            $data = $form-&gt;getData();</span>
<span class="x">            $this-&gt;repository-&gt;add($data);</span>
<span class="x">            $this-&gt;repository-&gt;flush();</span>
<span class="x">            $this-&gt;addFlash(&#39;success&#39;, &#39;Erfolgreich gespeichert.&#39;);</span>
<span class="x">            return $this-&gt;redirectToRoute(&#39;index&#39;);</span>
<span class="x">        }</span>

<span class="x">        $limit = 2;</span>
<span class="x">        $maxPages = $this-&gt;getMaxPages($limit);</span>
<span class="x">        $currentPage = $this-&gt;getCurrentPage();</span>

<span class="x">        $entries = $this-&gt;repository-&gt;findBy([], [&#39;createdAt&#39; =&gt; &#39;DESC&#39;]);</span>

<span class="x">        return $this-&gt;render(&#39;index.html.twig&#39;, [</span>
<span class="x">            &#39;form&#39; =&gt; $form,</span>
<span class="x">            &#39;entries&#39; =&gt; $entries,</span>
<span class="x">            &#39;maxPages&#39; =&gt; $maxPages</span>
<span class="x">        ]);</span>
<span class="x">    }</span>
<span class="x">}</span>
</code></pre></div>

<h2 id="services">Services<a class="headerlink" href="#services" title="Permanent link">&para;</a></h2>
<p>In Symfony, services are a fundamental concept that plays a crucial role in the architecture of applications. They are essentially PHP objects that perform specific tasks and are managed by the Symfony Service Container.
Services are typically defined in configuration files such as services.yaml. This file specifies the service ID, class name, and any constructor arguments needed for the service.
A common usecase for services are custom parameters in class constructors or the usage of .env variables.</p>
<div class="codehilite"><pre><span></span><code><span class="n">parameters</span><span class="o">:</span>

<span class="n">services</span><span class="o">:</span>
<span class="w">  </span><span class="n">_defaults</span><span class="o">:</span>
<span class="w">    </span><span class="n">autowire</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">    </span><span class="n">autoconfigure</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>

<span class="w">  </span><span class="n">App</span><span class="o">\:</span>
<span class="w">    </span><span class="n">resource</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;../src/&quot;</span>
<span class="w">    </span><span class="n">exclude</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;../src/DependencyInjection/&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;../src/Entity/&quot;</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;../src/Kernel.php&quot;</span>

<span class="w">  </span><span class="err">#</span><span class="w"> </span><span class="n">Hands</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">value</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">LIMIT</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="o">.</span><span class="na">env</span><span class="w"> </span><span class="n">over</span><span class="w"> </span><span class="n">to</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">first</span><span class="w"> </span><span class="n">parameter</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">the</span><span class="w"> </span><span class="n">constructor</span><span class="w"> </span><span class="n">of</span><span class="w"> </span><span class="n">IndexController</span>
<span class="w">  </span><span class="n">App</span><span class="o">\</span><span class="n">Controller</span><span class="o">\</span><span class="n">IndexController</span><span class="o">:</span>
<span class="w">    </span><span class="k">arguments</span><span class="o">:</span>
<span class="w">      </span><span class="o">-</span><span class="w"> </span><span class="s2">&quot;%env(resolve:LIMIT)%&quot;</span>
</code></pre></div>

<h2 id="flash-messages">Flash Messages<a class="headerlink" href="#flash-messages" title="Permanent link">&para;</a></h2>
<p>Flash messages in Symfony are a mechanism used to display temporary notifications to users, typically after a form submission or other actions that result in a page redirect. These messages are stored in the user's session and are automatically removed once they are read, ensuring they are only displayed once.</p>
<div class="codehilite"><pre><span></span><code><span class="x">$this-&gt;addFlash(&#39;success&#39;, &#39;Erfolgreich gespeichert.&#39;);</span>
</code></pre></div>

<div class="codehilite"><pre><span></span><code><span class="cp">{%</span> <span class="k">for</span> <span class="nv">label</span><span class="o">,</span> <span class="nv">messages</span> <span class="k">in</span> <span class="nv">app.flashes</span> <span class="cp">%}</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">for</span> <span class="nv">message</span> <span class="k">in</span> <span class="nv">messages</span> <span class="cp">%}</span>
<span class="x">        &lt;p&gt;</span><span class="cp">{{</span> <span class="nv">message</span> <span class="cp">}}</span><span class="x">&lt;/p&gt;</span>
<span class="x">    </span><span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</code></pre></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.expand", "search.highlight", "dark_mode"], "search": "../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
    
  </body>
</html>